<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact Form</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Form</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>Contact Us</h1>
        <!-- Contact form -->
        <form id="contactForm">
            <p>
                <label for="name">Full Name:</label>
                <input id="name" type="text" name="name" required>
            </p>
            <p>
                <label for="email">Email Address:</label>
                <input id="email" type="email" name="email" required>
            </p>
            <p>
                <label for="phone">Phone Number:</label>
                <input id="phone" type="tel" name="phone">
            </p>
            <p>
                <label for="subject">Subject:</label>
                <input id="subject" type="text" name="subject" required>
            </p>
            <p>
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="4" cols="50" required></textarea>
            </p>
            <p>
                <label for="contact-method">Preferred Contact Method:</label>
                <input type="radio" name="contact-method" value="email"> Email
                <input type="radio" name="contact-method" value="phone"> Phone
            </p>
            <p>
                <label for="reason">Reason for Contact:</label>
                <select id="reason" name="reason">
                    <option value="general">General Inquiry</option>
                    <option value="job">Job Offer</option>
                    <option value="other">Other</option>
                </select>
            </p>
            <p>
                <label for="newsletter">Subscribe to Portfolio Updates:</label>
                <input type="checkbox" name="newsletter" value="yes"> Yes, I want to receive updates
            </p>
            <p>
                <input type="submit" value="Submit">
                <input type="reset" value="Clear">
            </p>
        </form>
    </main>

    <footer>
        <div><small>Copyright &copy; 2024 Zaryaab Chatta</small></div>
    </footer>

    <!-- Include inline JavaScript to handle form submission and localStorage -->
    <script>
        // This function handles form submission for the contact form
        document.getElementById("contactForm").onsubmit = function(event) {
            // Prevent the form from refreshing the page
            event.preventDefault();

            // Retrieve previous submissions from localStorage (if any)
            let submissions = JSON.parse(localStorage.getItem("submissions")) || [];

            // Get the current form values
            const submission = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                subject: document.getElementById("subject").value,
                message: document.getElementById("message").value,
                contactMethod: document.querySelector('input[name="contact-method"]:checked') ? document.querySelector('input[name="contact-method"]:checked').value : '',
                reason: document.getElementById("reason").value,
                newsletter: document.querySelector('input[name="newsletter"]:checked') ? 'Yes' : 'No'
            };

            // Add the new submission to the array
            submissions.push(submission);

            // Store the updated submissions array in localStorage
            localStorage.setItem("submissions", JSON.stringify(submissions));

            // Display a success message
            alert("Thank you for contacting us! Your message has been stored.");
        };
    </script>
</body>
</html>
